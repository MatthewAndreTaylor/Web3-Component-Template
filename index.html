<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Matthew Taylor">
  <meta name="description" content="Template for frontend web3 components">
  <link rel="icon" href="./assets/icon.png">

  <!----======== Web3 ======== -->
  <script src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js" type="application/javascript"></script>

  <!----======== CSS ======== -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="./css/styles.css">

  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css" crossorigin="anonymous">
  <link rel="stylesheet" href="./css/vs.css">

  <title>Web3 Component Template</title>
</head>

<body>
  <div id="toasts"></div>
  <h1 class="title"> Web3 Component Template</h1>
  <div class="container">
    <div class="row">
      <div class="col"></div>
      <div class="col">
        <div class="card" style="width: 18rem;">
          <img src="./assets/MetaMask_Fox.svg.png" class="card-img-top" alt="wallet">
          <div class="card-body">
            <h5 class="card-title">Contract sample ðŸ“œ</h5>
            <p class="card-text">Contract interaction template.</p>
            <a href="#" class="btn btn-primary" id="transact" rel="tooltip" data-bs-placement="bottom"
              title="Crypto Wallet Required">
              <small>Interact</small>
            </a>
          </div>
        </div>
      </div>
      <div class="col"></div>
    </div>
    <pre>
      <code class="language-xml hljs">
      <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.ethers.io/lib/ethers-5.2.umd.min.js"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"application/javascript"</span><span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

      <span class="hljs-comment">&lt;!-- Web3 Component Template --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"transact()"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"button text"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">'Interact'</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"application/javascript"</span>&gt;</span><span class="language-javascript">
        <span class="hljs-keyword">const</span> <span class="hljs-name">ABI</span> = [YOUR_ABI]
        <span class="hljs-keyword">const</span> <span class="hljs-name">contract_address</span> = "YOUR_CONTRACT_ADDRESS"

        <span class="hljs-keyword">async function</span> <span class="hljs-title function_">transact</span>(<span class="hljs-params"></span>) {
          <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">const</span> <span class="hljs-name">provider</span> = <span class="hljs-keyword">new</span> <span class="hljs-name">ethers</span>.<span class="hljs-name">providers</span>.<span class="hljs-title function_">Web3Provider</span>(<span class="hljs-name">window</span>.<span class="hljs-name">ethereum</span>)
            <span class="hljs-variable language_">await</span> <span class="hljs-name">provider</span>.<span class="hljs-title function_">send</span>(<span class="hljs-string">"eth_requestAccounts"</span>, [])
            <span class="hljs-keyword">const</span> <span class="hljs-name">signer</span> = <span class="hljs-name">provider</span>.<span class="hljs-title function_">getSigner</span>()
            <span class="hljs-keyword">const</span> <span class="hljs-name">contract</span> = <span class="hljs-keyword">new</span> <span class="hljs-name">ethers</span>.<span class="hljs-title function_">Contract</span>(<span class="hljs-name">contract_address</span>, <span class="hljs-name">ABI</span>, <span class="hljs-name">signer</span>)
            <span class="hljs-comment">/* contract method */</span>
            <span class="hljs-variable language_">await</span> <span class="hljs-name">contract</span>.`METHOD_NAME`({ <span class="hljs-name">value:</span> <span class="hljs-name">ethers</span>.<span class="hljs-name">utils</span>.<span class="hljs-title function_">parseUnits</span>(<span class="hljs-string">"100000000"</span>, <span class="hljs-string">"gwei"</span>) })
          } <span class="hljs-keyword">catch</span> (e) {
            <span class="hljs-comment">/* handle transaction error */</span>
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e);
          }
        }
      </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code>
    </pre>
  </div>
  <script type="application/javascript" src="./scripts/main.js"></script>
</body>

</html>